<div ng-include="'partials/header.html'"></div>

<div class="main-container clearfix">
    <div style="float:left;width:58%">
        <ul>
            <li ng-repeat="post in postsData" style="background-color:#fff;padding: 10px;overflow:hidden;position:relative;margin-bottom: 15px;box-shadow:0 1px 3px rgba(0,0,0,0.25) ">
                <div ng-if="post.author.username === userData.username" style="position: absolute;right: 10px">
                    <div >
                        <button ng-click="showHideEditElements()" style="background-color:transparent; border: none;text-decoration:underline;color:#3675B5">Edit</button>
                        <button ng-click="deletePost(post.id)" style="background-color:transparent; border: none;text-decoration:underline;color:#3675B5">Delete</button>
                    </div>
                    <div class="edit-post" ng-show="showEditPostElements">
                        <input type="text" placeholder="New content" ng-model="post.postContent"/>
                        <button class="button" ng-click="editPost(post.id, post.postContent)">Send</button>
                        <button class="cancel-button" ng-click="showHideEditElements()">Cancel</button>
                    </div>
                </div>
                <div post-details post="post" />
            </li>
        </ul>
    </div>

    <div style="float: right;width:40%;box-shadow:0 1px 3px rgba(0,0,0,0.25) ">
        <h2 style="background-color: white;padding: 10px;font-size:16px">
            <a href="#/user/me/friends" style="color:#3675B5">Friends</a>
            <span style="color: #555">{{friendsCount}}</span>
        </h2>
        <ul> <!--username, name, gender, profileImageData, id-->
            <li ng-repeat="friend in friendsPreviewData.friends | limitTo: 6" style="border-bottom: 1px solid #aaa;margin:10px;padding-bottom: 10px">
                <div friend-details friend="friend" />
            </li>
        </ul>
    </div>
</div>